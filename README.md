# Surviva

<h3>Путеводитель по Mirror </h3>
Ох уж эти сетевые игры, куда не глянь везде нужен этот мультиплеер, ибо все хотят играть  с друзьями или с рандомными игроками. 
И для тебя мой дорогой читатель этой писаниной тебе расскажу, как я страдал и как написать свою “Мега пупер супер гипер ” сетевую игру на Unity с использованием Mirror Network 

<h3>Что такое Mirror ?</h3> 

Mirror - это бесплатный фреймворк для подключение  мультиплеера. Он является прямым наследником уже почившей себя UNet, 
так что большая часть документации с Unet будет верна и для Mirror, но не всегда, ибо некоторые компоненты переписаны или вообще вырезаны, как у кота бубенчики. 

На этом фреймворке  можно создать как локальный мультиплеер для нескольких игроков, так и онлайн mmorpg с 300 игроками на одном сервере

И так приступим к делу

<h3>Установка Mirror и настройка окружения </h3> 

Для начала убедитесь, что у вас установлена версия Unity 2020 года, ибо, ваш верный слуга использовал более новую версию Unity и очень из-за этого страдал, потому, что  Mirror может ругаться на это и при изменение любого скрипта будет крашится и вылетать, так что проверьте, ну или разрабы уже исправили это. 

Открываем наш Asset Store и ищем там Mirror Network  и соответственно его устанавливаем, не буду вдаватся в подробности по импортированию плагинов, ибо вы это и так знаете, а время не резиновое, если не знаете, то лучше вам повременить с мультиплеером и выучить Unity)

И так мы импортировали наш будущий инструмент и что же дальше? 

Создаем объект на сцене и переименовываем на NetworkManager 
и добавляем компонент Network Manager и Network  Manager Hud 

Теперь немного про добавленные компоненты:

Network Manager - самый  главный  компонент Mirror. Он создает всю магию подключения и синхронизацию игроков, также он имеет ряд методов, которые вызываются при подключение игрока или отключение сервера, но о них позже. 
 
У этого компонента в инспекторе очень много полей, но нам будут важны только некоторые из них, которые будут изменятся при разработке игры :
Network Address -это Ip к которому игрок будет подключатся. По умолчанию значение будет “localhost”,  но при запуске сервера или хоста, он изменится  на тот,  который даст ОС
Player Prefab - здесь мы указываем префаб игрока, который  и будет создаваться при подключение на сервер
Registered Spawnable Prefabs  - а вот в это поле мы указываем объекты, которые нужно зарегистрировать при спавне объекта, но о нем позже
Ну и опциональное Max Connection - максимальное количество подключений на сервере 

Network Manager HUD - создает UI  для подключения и создания сервера.


